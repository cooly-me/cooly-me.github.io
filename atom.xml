<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://cooly-me.github.io</id>
    <title>cooly-me</title>
    <updated>2020-04-15T05:30:42.466Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://cooly-me.github.io"/>
    <link rel="self" href="https://cooly-me.github.io/atom.xml"/>
    <subtitle>stay hungryï¼Œstay foolish</subtitle>
    <logo>https://cooly-me.github.io/images/avatar.png</logo>
    <icon>https://cooly-me.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, cooly-me</rights>
    <entry>
        <title type="html"><![CDATA[Gradle - build.gradleå¸¸ç”¨ç”¨æ³•]]></title>
        <id>https://cooly-me.github.io/post/adfsdfsdf/</id>
        <link href="https://cooly-me.github.io/post/adfsdfsdf/">
        </link>
        <updated>2020-04-15T05:12:38.000Z</updated>
        <content type="html"><![CDATA[<p>æœ€è¿‘ä¸€ç›´åœ¨ç”¨Gradleæ¥æ„å»ºjavaåº”ç”¨ï¼Œä½†æ˜¯å¯¹äºGradleæ–‡ä»¶çš„å†™æ³•ä¸æ˜¯å¾ˆäº†è§£ï¼Œä¸€ç›´éƒ½æ˜¯è·Ÿåº¦å¨˜è¿›è¡Œæ²Ÿé€šã€‚ç°åœ¨æ­£å¥½æ€»ç»“ä¸€ä¸‹é¡¹ç›®ä¸­ç”¨åˆ°çš„ä¸€äº›ç”¨æ³•ã€‚</p>
<ol>
<li>å¼•å…¥æ’ä»¶åŒ…</li>
</ol>
<p>ä¸€ä¸ªé¡¹ç›®ä¸­åªæ”¾ç½®ä¸€ä¸ªbuild.gradleï¼Œbuild.gradleå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªProjectæ¡†æ¶ï¼Œæä¾›äº†å¯¹ä¸€ä¸ªé¡¹ç›®çš„åŸºæœ¬é…ç½®ã€‚å¦‚æœéœ€è¦æ‰§è¡Œæ›´è¿‡çš„taskï¼Œæ¯”å¦‚å¯¹javaè¿›è¡Œç¼–è¯‘ã€æ‰“åŒ…ã€éƒ¨ç½²ã€ç§»åŠ¨ç­‰æ“ä½œï¼Œå°±éœ€è¦å¼•å…¥ç›¸åº”çš„æ’ä»¶ï¼Œæˆ–è€…è‡ªå·±å†™è„šæœ¬ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯å¼•å…¥æ’ä»¶ï¼Œç„¶åå†æŒ‡å®šè‡ªå·±çš„taskï¼Œè¿™æ ·å‡å°‘å¾ˆå¤šçš„ä»£ç é‡ï¼Œæé«˜æ•ˆç‡ã€‚</p>
<p>apply from: 'dependency.gradle'  // åŠ è½½æœ¬åœ°æ’ä»¶</p>
<p>apply plugin: 'java'             // åŠ è½½javaæ’ä»¶<br>
apply plugin: 'eclipse'<br>
apply plugin: 'base'<br>
åŠ è½½äº†ç›¸åº”çš„æ’ä»¶åï¼Œåœ¨gradle taskä¸­å°±ä¼šæ˜¾ç¤ºæ’ä»¶æä¾›çš„æ–¹æ³•ã€‚</p>
<p>ä¸€èˆ¬javaé¡¹ç›®éƒ½ä¼šåŠ è½½ java , base ä¸¤ä¸ªæ’ä»¶ï¼Œæˆ‘ç”¨çš„æ˜¯eclipseï¼Œæ‰€ä»¥ä¹Ÿå°†eclipseæ’ä»¶å¼•è¿›æ¥äº†ã€‚</p>
<ol start="2">
<li>è®¾ç½®å·¥ç¨‹ source ç›®å½•</li>
</ol>
<p>// è®¾ç½®sourceSets,åªæ˜¯projectçš„å±æ€§<br>
sourceSets {<br>
// è®¾ç½®main source, æ‰“åŒ…éœ€è¦ç”¨åˆ°çš„èµ„æº<br>
main {<br>
java{<br>
srcDirs = ['src/main/java']<br>
}</p>
<pre><code>    resources {
        srcDirs = [&quot;src/main/resources&quot;, &quot;config&quot;]  // æˆ‘åœ¨è¿™é‡Œå¤šåŠ äº†ä¸€ä¸ª config åŒ…
    }
}
// è®¾ç½®test source, å•å…ƒæµ‹è¯•æ‰€éœ€çš„èµ„æº
</code></pre>
<ol start="3">
<li>Projectä¸­å¸¸ç”¨çš„å±æ€§é…ç½®</li>
</ol>
<p>version = 1.0                                 // é¡¹ç›®ç‰ˆæœ¬ï¼ˆå…¨å±€çš„ï¼‰<br>
sourceCompatibility = 1.8                     // sourceä½¿ç”¨çš„jdkç‰ˆæœ¬<br>
targetCompatibility = 1.8                     // ç¼–è¯‘æ—¶ä½¿ç”¨çš„jdkç‰ˆæœ¬<br>
compileJava.options.encoding = 'UTF-8'        //<br>
compileTestJava.options.encoding = 'UTF-8'    //<br>
4. æ‰“jaråŒ…å¹¶å¤åˆ¶</p>
<p>// å®šä¹‰ä¸€ä¸ªtask, ç»§æ‰¿è‡ª jar task, å¹¶ä¾èµ–äº compileJava task<br>
task assembleProject1Jar(type: Jar, dependsOn:[compileJava]) {<br>
onlyIf { !sourceSets.main.allSource.files.isEmpty() }<br>
// æ‰“åŒ…åçš„jaråŸºæœ¬å<br>
baseName 'project1'<br>
// version<br>
version ''</p>
<pre><code>// é€‰æ‹©ç¼–è¯‘åçš„classè¿›è¡Œæ‰“åŒ…
from ('build/classes/java/main/')
include (['priv/allen/common/entity/*.class',
          'priv/allen/common/controller/*.class',
          'priv/allen/common/service/*.class',
          'priv/allen/common/dao/*.class']) 

// æ‰“åŒ…åçš„æ“ä½œ
doLast {
	copy {
		from('build/libs') {
			include baseName + version + '.jar'
		}
        // å°†æ‰“å¥½çš„jaråŒ…å¤åˆ¶åˆ° workspace ä¸­çš„å¦ä¸€ä¸ªå·¥ç¨‹ä¸‹
		into('../Project2/lib')
	}
}       		      
</code></pre>
<p>}<br>
5. åœ¨taskæ‰§è¡Œååšä¸€äº›æ“ä½œ</p>
<p>clean.doLast {<br>
if (file('target').exists()) {<br>
file('target').deleteDir()<br>
}<br>
}<br>
å¦‚æœéœ€è¦åœ¨ clean æ“ä½œåé¢æ·»åŠ ä¸€äº›é¢å¤–çš„æ“ä½œï¼Œå¯ä»¥é‡‡ç”¨ doLast è¯­æ³•ã€‚</p>
<ol start="6">
<li>gradleä¸­çš„å¸¸ç”¨å±æ€§å¯ä»¥å†™åœ¨gradle.propertiesä¸­</li>
</ol>
<p>ä¸€ä¸ªgradleæ–‡ä»¶ä¸­çš„å±æ€§æœ‰å¾ˆå¤š,æ¯”å¦‚ jdkç‰ˆæœ¬ï¼Œç¼–ç ç±»å‹ï¼Œdependency ç‰ˆæœ¬ã€‚å¦‚æœéƒ½æ”¾åœ¨ build.gradle ä¸­åŠ¿å¿…ä¸å¥½ç®¡ç†å“¦ï¼ˆç»éªŒå“¦ï¼‰ï¼Œé‚£ä¹ˆgradleé»˜è®¤æä¾›äº†ä¸€ä¸ª gradle.properties æ–‡ä»¶ã€‚ç”¨è¿™ä¸ªæ–‡ä»¶æ¥ç®¡ç†æ‰€æœ‰çš„å±æ€§åœ¨åˆé€‚ä¸è¿‡äº†ï¼Œä¸‹é¢å°±æ¥è¯•è¯•å“¦ï¼</p>
<p>gradle.propertiesï¼š</p>
<p>jdkVersion= 1.8<br>
encodingType= UTF-8<br>
configFile = config.gradle</p>
<h2 id="-group-id-artifact-id-version-">--- group id, artifact id, version   -----</h2>
<p>GroupId = priv.allen.sso<br>
projectVersion = 1.0</p>
<p>springBootVersion = 2.0.3.RELEASE<br>
æˆ‘ä»¬å°†ä¸€äº›å¸¸ç”¨çš„å±æ€§éƒ½å®šä¹‰åœ¨äº†ä¸Šé¢è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆåœ¨gradleè„šæœ¬ä¸­å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼Œçœ‹ä»£ç ï¼š</p>
<p>build.gradle:</p>
<p>apply from: &quot;${configFile}&quot;    // å¼•ç”¨äº†å¦ä¸€ä¸ªé…ç½®æ–‡ä»¶<br>
apply plugin: 'java'<br>
apply plugin: 'jacoco'<br>
apply plugin: 'base'<br>
apply plugin: 'eclipse'<br>
apply plugin: 'maven'<br>
apply plugin: 'maven-publish'</p>
<p>sourceCompatibility = jdkVersion<br>
targetCompatibility = jdkVersion<br>
compileJava.options.encoding = encodingType<br>
compileTestJava.options.encoding = encodingType<br>
group = GroupId<br>
version = projectVersion</p>
<p>buildscript {<br>
repositories {<br>
mavenCentral()<br>
}</p>
<pre><code>dependencies {
    classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)
    //classpath 'org.springframework:springloaded:1.2.7.RELEASE'
}
</code></pre>
<p>}<br>
ç®€å•ä¸ï¼Œåœ¨Â gradle.properties æ–‡ä»¶å®šä¹‰çš„æ‰€æœ‰å±æ€§ï¼ˆå¸¸é‡ï¼‰ï¼Œå°±å¯ä»¥æ‹¿æ¥ç”¨å“¦ï¼Œå¼•ç”¨å˜é‡å€¼çš„ç”¨æ³•ï¼š ${varName} ã€‚</p>
<p>æ³¨æ„å“¦ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­çš„ç¬¬ä¸€è¡Œè¿˜æœ‰ä¸€ç§ç”¨æ³•ï¼Œå¼•ç”¨äº†ä¸€ä¸ªå¤–éƒ¨é…ç½®æ–‡ä»¶ï¼šconfig.gradle (è¿™ä¸ªåå­—å¯ä»¥éšä¾¿èµ·ï¼Œè¿™æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„)ã€‚å¿…é¡»åœ¨gradleæ–‡ä»¶ä¸­ä½¿ç”¨ apply from è¯­æ³•å¼•å…¥è¿›æ¥æ‰å¯ä»¥ä½¿ç”¨ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­æ”¾ç½®äº†ä¸€äº› ext å˜é‡ï¼Œä»¥ä¾¿æ”¯æŒä¸åŒçš„ç¯å¢ƒï¼ˆwindows, linuxç­‰ï¼‰ï¼Œæ¯ä¸€ä¸ªç¯å¢ƒå¯¹åº”ä¸€ä¸ªconfigæ–‡ä»¶ï¼Œéœ€è¦çš„æ—¶å€™åˆ‡æ¢ã€‚</p>
<p>config.gradle(æˆ‘è¿™é‡Œæ˜¯éšä¾¿å†™äº†ä¸ªä¾‹å­):</p>
<p>ext{<br>
nameList =[<br>
&quot;bom&quot;,<br>
&quot;detail&quot;,<br>
&quot;feeding&quot;,<br>
&quot;component&quot;,<br>
&quot;dataprocess&quot;,<br>
&quot;parse&quot;,<br>
&quot;roduct_config_setting&quot;,<br>
&quot;product_setting&quot;,<br>
&quot;product_uph_setting&quot;,<br>
&quot;vendor&quot;,<br>
&quot;workorder&quot;,<br>
&quot;sap&quot;<br>
]</p>
<p>}</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://cooly-me.github.io/post/hello-gridea/</id>
        <link href="https://cooly-me.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>